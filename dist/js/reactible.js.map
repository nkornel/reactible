{"version":3,"sources":["../../src/editablefield.js"],"names":[],"mappings":"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","file":"reactible.js","sourcesContent":["/**\n * EditableField plugin built with React.js, based slightly on the x-Editable jQuery library.\n * This supports AJAX sources trough the source attribute, and the following field types:\n * Text\n * TextArea\n * Select\n * Select2?\n *\n * The mandatory attributes are fieldType, fieldName, fieldTitle.\n * The component hierarchy as follows:\n * \n * EditableFieldBox\n *     |\n *     | EditableField + <label>\n *         |\n *         | EditableEditBox + <span>\n *             |\n *             | EditableInput | EditableTextAreaInput | EditableSelectInput\n *             | EditableStoreButton\n *             | EditableCancelButton\n */\n\n/**\n * The EditableFieldBox component\n *\n * The main component for EditableField, which contains the label and the EditableField component.\n * \n */\nvar EditableFieldBox = React.createClass({\n    getInitialState: function () {\n        return {fieldValue: []};\n    },\n    \n    componentDidMount: function () {\n        var formattedRes, fieldVal;\n\n        if (this.props.fieldType === 'select' && typeof this.props.fieldSelected !== 'undefined') {\n            /**\n             * In case of select, radio, check and select2 we need\n             * the prepopulated list with id: fieldName parts.\n             */\n            Axe.grab(this.props.fieldSource, function (res) {\n                formattedRes = typeof res == 'string' ? JSON.parse(res) : res;\n                fieldVal = formattedRes.filter(function (obj) {\n                    return obj.id == this.props.fieldSelected;\n                }.bind(this))[0][this.props.fieldName];\n\n                this.setState({fieldValue: fieldVal});\n            }.bind(this));\n        } else {\n            // In case of text, textArea we just get and show.\n            Axe.grab(this.props.fieldUrl, function (res) {\n                this.setState({fieldValue: typeof res == 'string' ? JSON.parse(res)[this.props.fieldName] : res[this.props.fieldName]});\n            }.bind(this));\n        }\n\n        window.addEventListener('stored', function (e) {\n            if (this.props.fieldType === 'select' && typeof this.props.fieldSelected !== 'undefined') {\n                Axe.grab(this.props.fieldSource + '/' + e.detail, function (res) {\n                    this.setState({fieldValue: typeof res == 'string' ? JSON.parse(res)[this.props.fieldName] : res[this.props.fieldName]});\n                }.bind(this));\n            } else {\n                this.setState({fieldValue: e.detail});\n            }\n        }.bind(this));\n    },\n\n    componentWillUnmount: function() {\n        window.removeEventListener('stored');\n    },\n\n    render: function () {\n        return (\n            <div className=\"editableFieldBox\">\n                <label>{this.props.fieldTitle}</label>\n                <EditableField fieldType={this.props.fieldType} \n                               fieldValue={this.state.fieldValue} \n                               fieldUrl={this.props.fieldUrl}\n                               fieldSource={this.props.fieldSource} \n                               fieldSelected={this.props.fieldSelected} \n                               fieldName={this.props.fieldName} />\n            </div>\n        );\n    }\n});\n\n/**\n * The EditableField component\n *\n * This is the first child of EditableFieldBox, and it contains the field title and EditableEditBox component which holds\n * the components for the field edition.\n * \n */\nvar EditableField = React.createClass({\n    getInitialState: function () {\n        return {\n            viewStatus: true\n        };\n    },\n\n    handleEditClick: function () {\n        this.setState({viewStatus: false});\n    },\n\n    handleCloseClick: function () {\n        this.setState({viewStatus: true});\n    },\n\n    render: function () {\n        return (\n            <div className=\"editableField\">\n                <span onClick={this.handleEditClick} className={this.state.viewStatus ? '' : 'hidden'}>{this.props.fieldValue}</span>\n                <EditableEditBox viewStatus={this.state.viewStatus} \n                                 fieldType={this.props.fieldType} \n                                 fieldValue={this.props.fieldValue}\n                                 fieldUrl={this.props.fieldUrl}\n                                 fieldSource={this.props.fieldSource} \n                                 fieldName={this.props.fieldName} \n                                 fieldSelected={this.props.fieldSelected}\n                                 callbackViewParent={this.handleCloseClick} />\n            </div>\n        );\n    }\n});\n\n/**\n * The EditableEditBox component\n *\n * This is basically a container for the edition components.\n *  \n */\nvar EditableEditBox = React.createClass({\n    onChildClick: function () {\n        this.props.callbackViewParent();\n    },\n\n    mountComponent: function () {\n        switch (this.props.fieldType) {\n            case 'text':\n                return <EditableTextInput fieldName={this.props.fieldName} fieldValue={this.props.fieldValue} fieldType={this.props.fieldType} />;\n                break;\n            case 'select':\n                return <EditableSelectInput fieldName={this.props.fieldName} fieldValue={this.props.fieldValue} fieldSource={this.props.fieldSource} fieldSelected={this.props.fieldSelected}/>\n                break;\n            case 'checkbox':\n                return '';\n                break;\n            case 'radio':\n                return '';\n                break;\n            case 'textarea':\n                return <EditableTextAreaInput fieldName={this.props.fieldName} fieldValue={this.props.fieldValue} fieldSource={this.props.fieldSource} />\n                break;\n            default:\n                console.log('no-type given');\n                break;\n        }\n    },\n\n    render: function () {\n        return (\n            <div className={this.props.viewStatus ? 'hidden' : ''}>\n                {this.mountComponent()}\n                <EditableStoreButton fieldUrl={this.props.fieldUrl} fieldName={this.props.fieldName} callbackParent={this.onChildClick} />\n                <EditableCancelButton callbackParent={this.onChildClick} />\n            </div>\n        );\n    }\n});\n\n/**\n * The EditableInput components\n *\n * This is responsible for the updates on the field value, it can be text, textarea, email, date, datetime, select, select2.\n */\nvar EditableTextInput = React.createClass({\n    getInitialState: function () {\n        return {fieldValue: []};\n    },\n\n    handleChange: function (event) {\n        this.setState({fieldValue: event.target.value});\n    },\n\n    componentWillReceiveProps: function (nextPros) {\n        this.setState({fieldValue: nextPros.fieldValue});\n    },\n\n    render: function () {            \n        return <input type={this.props.fieldType} name={this.props.fieldName} value={this.state.fieldValue} onChange={this.handleChange} id=\"editableInput\" />\n    }\n});\n\nvar EditableTextAreaInput = React.createClass({\n    getInitialState: function () {\n        return {fieldValue: []};\n    },\n\n    handleChange: function (event) {\n        this.setState({fieldValue: event.target.value});\n    },\n\n    componentWillReceiveProps: function (nextPros) {\n        this.setState({fieldValue: nextPros.fieldValue});\n    },\n\n    render: function () {\n        return <textarea id=\"editableInput\" rows=\"5\" value={this.state.fieldValue} name={this.props.fieldName} onChange={this.handleChange}></textarea>;\n    }\n});\n\nvar EditableSelectInput = React.createClass({\n    getInitialState: function () {\n        return {fieldData: [], defValue: 0};\n    },\n\n    componentDidMount: function () {\n        Axe.grab(this.props.fieldSource, function (res) {\n            this.setState({fieldData: typeof res == 'string' ? JSON.parse(res) : res, defValue: this.props.fieldSelected});\n        }.bind(this));\n    },\n\n    handleChange: function (ev) {\n        this.setState({defValue:ev.target.value})\n    },\n\n    render: function () {\n        var selectNodes = this.state.fieldData.map(function (node) {\n            return (\n                <option key={node.id} value={node.id}>{node[this.props.fieldName]}</option>\n            );\n        }.bind(this));\n        return (\n            <select name={this.props.fieldName} id=\"editableInput\" value={this.state.defValue} onChange={this.handleChange}>\n                {selectNodes}\n            </select>\n        );\n    }\n});\n\n/**\n * The EditableStoreButton component\n *\n * This is responsible for updating the field on the server and for \n * dispatch the updated event for state modification on the parent containers.\n * \n */\nvar EditableStoreButton = React.createClass({\n    handleStoreEvent: function (event) {\n        var val = document.getElementById('editableInput').value;\n        var url = this.props.fieldUrl;\n        var prop = this.props.fieldName;\n\n        if (val.length === 0) {\n            alert('Please fill the field');\n\n            return false;\n        }\n\n        Axe.slash(url, {prop : val}, null, function (res) {\n            //alert('Success!');\n            var storedEvent = new CustomEvent('stored', {'detail': val});\n            window.dispatchEvent(storedEvent);\n            setTimeout(function () {\n                this.props.callbackParent();\n            }.bind(this), 500);\n        }.bind(this));\n    },\n\n    render: function () {\n        return <button type=\"button\" className=\"editableStoreButton\" onClick={this.handleStoreEvent}>Save</button>;\n    }\n});\n\n/**\n * The EditableCancelButton component\n *\n * This is responsible for cancel the updating state and return the box to view state.\n */\nvar EditableCancelButton = React.createClass({\n    handleClosing: function () {\n        this.props.callbackParent();\n    },\n\n    render: function () {\n        return <button type=\"button\" className=\"editableCancelButton\" onClick={this.handleClosing}>Cancel</button>;\n    }\n});\n\n\n"]}